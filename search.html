---
layout: default
title: Search
---
<div class="page header">
	<div class="container">
		<h1>Search <span class="dataset"></span></h1>
	</div>
</div>
<hr />

<div class="container">
	<div id="search"></div>
</div>

<!-- script for rendering and performing search -->
<script>
	require([
		'jquery',
		'views/search/search-view',
		'utilities/web/query-string'
	], function ($, SearchView, QueryString) {

		// set active dataset
		//
		var dataset = QueryString.getParam('dataset') || 'xDD';
		$('.dataset li.' + dataset).addClass('active');

		// add dataset class to body
		//
		if (dataset.toLowerCase().includes('covid-19') || dataset.toLowerCase().includes('cord-19')) {
			$('body').addClass('covid');
		}

		// set dataset text
		//
		$('h1 .dataset').html(dataset);

		// render search view
		//
		var searchView = new SearchView();
		$('#search').append(searchView.render().$el);
		searchView.onAttach();
	});      
</script>